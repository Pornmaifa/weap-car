{% load static %}
<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <title>‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏†‡∏≤‡∏û‡∏£‡∏ñ - WarpCar</title>
    <link href="{% static 'dist/styles.css' %}?v=4" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body class="bg-gray-100 font-sarabun">
    {% include 'car_rental/navbar_detail.html' %}

    <div class="container mx-auto p-4 pt-24 max-w-3xl">
        
        <h1 class="text-2xl font-bold mb-4">üì∏ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏†‡∏≤‡∏û‡∏£‡∏ñ‡∏Å‡πà‡∏≠‡∏ô‡∏™‡πà‡∏á‡∏°‡∏≠‡∏ö</h1>
        
        <div class="bg-white p-4 rounded-lg shadow mb-6 flex gap-4 items-center">
            <img src="{{ booking.car.images.first.image.url }}" class="w-20 h-20 object-cover rounded">
            <div>
                <h2 class="font-bold">{{ booking.car.brand }} {{ booking.car.model }}</h2>
                <p class="text-gray-500">{{ booking.car.license_plate }}</p>
                <p class="text-blue-600 font-bold">Ref: #{{ booking.booking_ref }}</p>
            </div>
        </div>

        <div class="grid grid-cols-2 md:grid-cols-3 gap-4 mb-6">
            {% for item in existing_inspections %}
            <div class="relative group">
                <img src="{{ item.image.url }}" class="w-full h-32 object-cover rounded-lg shadow">
                <div class="absolute bottom-0 left-0 right-0 bg-black bg-opacity-60 text-white text-xs p-1 text-center rounded-b-lg">
                    {{ item.description|default:"‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏" }}
                </div>
            </div>
            {% empty %}
            <div class="col-span-full text-center text-gray-400 py-4 bg-gray-50 rounded border border-dashed">
                ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏π‡∏õ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢ (‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≠‡∏¢‡∏Ç‡∏µ‡∏î‡∏Ç‡πà‡∏ß‡∏ô ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏î‡∏Ç‡πâ‡∏≤‡∏°‡πÑ‡∏î‡πâ)
            </div>
            {% endfor %}
        </div>

        <div class="bg-white p-6 rounded-lg shadow mb-6">
            <h3 class="font-bold mb-4">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏π‡∏õ‡∏à‡∏∏‡∏î‡∏ï‡∏≥‡∏´‡∏ô‡∏¥/‡∏£‡∏≠‡∏¢‡∏Ç‡∏µ‡∏î‡∏Ç‡πà‡∏ß‡∏ô</h3>
            <form method="POST" enctype="multipart/form-data" class="flex flex-col gap-4">
                {% csrf_token %}
                {{ form.image }}
                {{ form.description }}
                <button type="submit" name="upload_image" class="bg-gray-600 hover:bg-gray-700 text-white py-2 rounded font-bold">
                    <i class="fas fa-camera mr-2"></i> ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ
                </button>
            </form>
        </div>

        <form method="POST" class="border-t pt-6">
            {% csrf_token %}
            <div class="flex items-center gap-2 mb-4 text-yellow-700 bg-yellow-50 p-3 rounded">
                <i class="fas fa-exclamation-triangle"></i>
                <p class="text-sm">‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏î‡∏™‡πà‡∏á‡∏°‡∏≠‡∏ö‡πÅ‡∏•‡πâ‡∏ß ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏à‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô "‡∏£‡∏±‡∏ö‡∏£‡∏ñ‡πÅ‡∏•‡πâ‡∏ß" ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</p>
            </div>
            <button type="submit" name="confirm_delivery" class="w-full bg-[#47B3C4] hover:bg-[#3a9faa] text-white py-4 rounded-lg text-xl font-bold shadow-lg">
                ‚úÖ ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏™‡∏†‡∏≤‡∏û‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á‡∏Å‡∏∏‡∏ç‡πÅ‡∏à‡∏£‡∏ñ
            </button>
        </form>

    </div>
</body>
</html>